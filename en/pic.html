<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Clear Everyday English - Multi-Language Picture Matching</title>

    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-CHXHM9CZKM"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-CHXHM9CZKM");
    </script>

    <!-- Favicons -->
    <link href="/img/favicon.png" rel="icon" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.3/howler.min.js"></script>
    <style>
      body {
        font-family: "Segoe UI", sans-serif;
        background: #f0f2f5;
        padding: 20px 0;
      }
      .header-section {
        text-align: center;
        margin-bottom: 30px;
      }
      .nav-menu {
        text-align: center;
        margin-bottom: 20px;
      }
      .language-selector {
        text-align: center;
        margin-bottom: 30px;
      }
      .language-selector label {
        font-weight: 600;
        margin-right: 10px;
        color: #495057;
      }
      .language-selector select {
        padding: 8px 20px;
        font-size: 16px;
        border-radius: 20px;
        border: 2px solid #dee2e6;
        background: white;
        cursor: pointer;
        min-width: 200px;
      }
      .nav-btn {
        padding: 12px 24px;
        margin: 5px;
        font-size: 16px;
        cursor: pointer;
        border: none;
        border-radius: 25px;
        background: #fff;
        color: #333;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        transition: 0.3s;
      }
      .nav-btn.active {
        background: #3498db;
        color: white;
      }
      .nav-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
      }
      .watch-btn {
        padding: 15px 30px;
        font-size: 18px;
        background: #ff0000;
        color: white;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        margin: 20px 0;
        font-weight: bold;
        box-shadow: 0 3px 10px rgba(255, 0, 0, 0.3);
        transition: 0.3s;
      }
      .watch-btn:hover {
        background: #cc0000;
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(255, 0, 0, 0.4);
      }
      .content-area {
        max-width: 900px;
        margin: 0 auto;
        background: white;
        padding: 30px;
        border-radius: 15px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
      }
      .score-display {
        text-align: center;
        font-size: 1.2rem;
        margin: 20px 0;
      }
      .column-header {
        text-align: center;
        font-weight: 600;
        color: #495057;
        margin-bottom: 20px;
        padding: 10px;
        background-color: #e9ecef;
        border-radius: 5px;
      }
      .game-card {
        cursor: pointer;
        transition: all 0.3s ease;
        margin-bottom: 15px;
        min-height: 120px;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .word-card {
        font-size: 1.3rem;
        font-weight: 500;
      }
      .picture-card .card-body {
        padding: 15px;
        text-align: center;
      }
      .picture-emoji {
        font-size: 4rem;
        display: block;
      }
      .game-card:hover:not(.matched) {
        transform: translateY(-3px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      }
      .game-card.selected {
        border: 3px solid #0d6efd !important;
        box-shadow: 0 4px 12px rgba(13, 110, 253, 0.3);
      }
      .game-card.matched {
        background-color: #d1e7dd !important;
        border: 2px solid #198754 !important;
        pointer-events: none;
      }
      .game-card.incorrect {
        animation: shake 0.3s ease;
        border: 3px solid #dc3545 !important;
      }
      @keyframes shake {
        0%,
        100% {
          transform: translateX(0);
        }
        25% {
          transform: translateX(-10px);
        }
        75% {
          transform: translateX(10px);
        }
      }
      .matched-check {
        color: #198754;
        font-size: 1.5rem;
        margin-left: 10px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header-section">
        <h1>Clear Everyday English Learning Hub</h1>
        <p class="lead">Multi-Language Picture Matching</p>
      </div>

      <div class="language-selector">
        <label for="languageSelect">Choose your language:</label>
        <select
          id="languageSelect"
          class="form-select-lg"
          onchange="changeLanguage()"
        >
          <option value="my">á€™á€¼á€”á€ºá€™á€¬ (Burmese)</option>
          <option value="zh">ä¸­æ–‡ (Chinese)</option>
          <option value="en">English</option>
          <option value="fr">FranÃ§ais (French)</option>
          <option value="es">EspaÃ±ol (Spanish)</option>
        </select>
      </div>

      <div class="nav-menu">
        <button class="nav-btn active" onclick="loadLesson('animals')">
          Animals
        </button>
        <button class="nav-btn" onclick="loadLesson('food')">
          Food & Drinks
        </button>
        <button class="nav-btn" onclick="loadLesson('weather')">Weather</button>
      </div>

      <div class="content-area">
        <h2 id="lesson-title" class="text-center mb-3">Animals</h2>

        <p class="text-center text-muted">
          Watch the video, then match the words with pictures!
        </p>
        <div class="text-center">
          <button class="watch-btn" onclick="openVideo()">
            â–¶ Watch Video on YouTube
          </button>
        </div>

        <hr class="my-4" />

        <div class="score-display">
          <span class="badge bg-primary"
            >Matches: <span id="matchCount">0</span> /
            <span id="totalPairs">6</span></span
          >
        </div>

        <div class="row">
          <div class="col-md-6">
            <div class="column-header" id="wordLanguageHeader">Words</div>
            <div id="sourceColumn"></div>
          </div>
          <div class="col-md-6">
            <div class="column-header">Pictures</div>
            <div id="targetColumn"></div>
          </div>
        </div>

        <div class="text-center mt-4">
          <button class="btn btn-success btn-lg" onclick="initGame()">
            ðŸ”„ New Game
          </button>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      const languageNames = {
        my: "á€™á€¼á€”á€ºá€™á€¬ (Burmese)",
        zh: "ä¸­æ–‡ (Chinese)",
        en: "English",
        fr: "FranÃ§ais (French)",
        es: "EspaÃ±ol (Spanish)",
      };

      const lessons = {
        animals: {
          title: "Animals",
          videoID: "YOUR_ANIMALS_VIDEO_ID", // Replace with actual video ID
          vocab: [
            {
              id: 1,
              en: "Cat",
              my: "á€€á€¼á€±á€¬á€„á€º",
              zh: "çŒ«",
              fr: "Chat",
              es: "Gato",
              emoji: "ðŸ±",
            },
            {
              id: 2,
              en: "Dog",
              my: "á€á€½á€±á€¸",
              zh: "ç‹—",
              fr: "Chien",
              es: "Perro",
              emoji: "ðŸ¶",
            },
            {
              id: 3,
              en: "Bird",
              my: "á€„á€¾á€€á€º",
              zh: "é¸Ÿ",
              fr: "Oiseau",
              es: "PÃ¡jaro",
              emoji: "ðŸ¦",
            },
            {
              id: 4,
              en: "Fish",
              my: "á€„á€«á€¸",
              zh: "é±¼",
              fr: "Poisson",
              es: "Pez",
              emoji: "ðŸ ",
            },
            {
              id: 5,
              en: "Elephant",
              my: "á€†á€„á€º",
              zh: "å¤§è±¡",
              fr: "Ã‰lÃ©phant",
              es: "Elefante",
              emoji: "ðŸ˜",
            },
            {
              id: 6,
              en: "Lion",
              my: "á€á€¼á€„á€ºá€¹á€žá€±á€·",
              zh: "ç‹®å­",
              fr: "Lion",
              es: "LeÃ³n",
              emoji: "ðŸ¦",
            },
          ],
        },
        food: {
          title: "Food & Drinks",
          videoID: "YOUR_FOOD_VIDEO_ID",
          vocab: [
            {
              id: 1,
              en: "Apple",
              my: "á€•á€”á€ºá€¸á€žá€®á€¸",
              zh: "è‹¹æžœ",
              fr: "Pomme",
              es: "Manzana",
              emoji: "ðŸŽ",
            },
            {
              id: 2,
              en: "Banana",
              my: "á€„á€¾á€€á€ºá€•á€»á€±á€¬á€žá€®á€¸",
              zh: "é¦™è•‰",
              fr: "Banane",
              es: "PlÃ¡tano",
              emoji: "ðŸŒ",
            },
            {
              id: 3,
              en: "Pizza",
              my: "á€•á€®á€‡á€¬",
              zh: "æŠ«è¨",
              fr: "Pizza",
              es: "Pizza",
              emoji: "ðŸ•",
            },
            {
              id: 4,
              en: "Hamburger",
              my: "á€Ÿá€™á€ºá€˜á€¬á€‚á€«",
              zh: "æ±‰å ¡åŒ…",
              fr: "Hamburger",
              es: "Hamburguesa",
              emoji: "ðŸ”",
            },
            {
              id: 5,
              en: "Coffee",
              my: "á€€á€±á€¬á€ºá€–á€®",
              zh: "å’–å•¡",
              fr: "CafÃ©",
              es: "CafÃ©",
              emoji: "â˜•",
            },
            {
              id: 6,
              en: "Ice Cream",
              my: "á€›á€±á€á€²á€™á€¯á€”á€·á€º",
              zh: "å†°æ·‡æ·‹",
              fr: "Glace",
              es: "Helado",
              emoji: "ðŸ¦",
            },
          ],
        },
        weather: {
          title: "Weather",
          videoID: "YOUR_WEATHER_VIDEO_ID",
          vocab: [
            {
              id: 1,
              en: "Sunny",
              my: "á€”á€±á€œá€„á€ºá€¸á€žá€±á€¬",
              zh: "æ™´æœ—",
              fr: "EnsoleillÃ©",
              es: "Soleado",
              emoji: "â˜€ï¸",
            },
            {
              id: 2,
              en: "Rainy",
              my: "á€™á€­á€¯á€¸á€›á€½á€¬á€žá€±á€¬",
              zh: "ä¸‹é›¨",
              fr: "Pluvieux",
              es: "Lluvioso",
              emoji: "ðŸŒ§ï¸",
            },
            {
              id: 3,
              en: "Cloudy",
              my: "á€á€­á€™á€ºá€‘á€°á€žá€±á€¬",
              zh: "å¤šäº‘",
              fr: "Nuageux",
              es: "Nublado",
              emoji: "â˜ï¸",
            },
            {
              id: 4,
              en: "Snowy",
              my: "á€”á€¾á€„á€ºá€¸á€€á€»á€žá€±á€¬",
              zh: "ä¸‹é›ª",
              fr: "Neigeux",
              es: "Nevado",
              emoji: "â„ï¸",
            },
            {
              id: 5,
              en: "Windy",
              my: "á€œá€±á€á€­á€¯á€€á€ºá€žá€±á€¬",
              zh: "å¤šé£Ž",
              fr: "Venteux",
              es: "Ventoso",
              emoji: "ðŸ’¨",
            },
            {
              id: 6,
              en: "Stormy",
              my: "á€™á€¯á€”á€ºá€á€­á€¯á€„á€ºá€¸á€á€­á€¯á€€á€ºá€žá€±á€¬",
              zh: "æš´é£Žé›¨",
              fr: "Orageux",
              es: "Tormentoso",
              emoji: "â›ˆï¸",
            },
          ],
        },
      };

      const successSound = new Howl({
        src: ["https://actions.google.com/sounds/v1/foley/beeps_and_boops.ogg"],
      });

      let currentLesson = null;
      let currentLanguage = "my";
      let selectedSource = null;
      let selectedTarget = null;
      let matchedPairs = new Set();
      let matchCount = 0;

      // Shuffle array
      function shuffle(array) {
        const newArray = [...array];
        for (let i = newArray.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
        }
        return newArray;
      }

      // Create word card
      function createWordCard(word, pairId) {
        const card = document.createElement("div");
        card.className = "card game-card word-card";
        card.dataset.pairId = pairId;
        card.innerHTML = `<div class="card-body">${word}</div>`;

        card.addEventListener("click", () => handleCardClick(card, true));

        return card;
      }

      // Create picture card
      function createPictureCard(emoji, pairId) {
        const card = document.createElement("div");
        card.className = "card game-card picture-card";
        card.dataset.pairId = pairId;
        card.innerHTML = `
                <div class="card-body">
                    <span class="picture-emoji">${emoji}</span>
                </div>
            `;

        card.addEventListener("click", () => handleCardClick(card, false));

        return card;
      }

      // Handle card click
      function handleCardClick(card, isSource) {
        if (matchedPairs.has(card.dataset.pairId)) return;

        if (isSource) {
          if (selectedSource) {
            selectedSource.classList.remove("selected");
          }
          selectedSource = card;
          card.classList.add("selected");
        } else {
          if (selectedTarget) {
            selectedTarget.classList.remove("selected");
          }
          selectedTarget = card;
          card.classList.add("selected");
        }

        if (selectedSource && selectedTarget) {
          checkMatch();
        }
      }

      // Check if selected cards match
      function checkMatch() {
        const sourceId = selectedSource.dataset.pairId;
        const targetId = selectedTarget.dataset.pairId;

        if (sourceId === targetId) {
          // Correct match
          successSound.play();
          selectedSource.classList.remove("selected");
          selectedTarget.classList.remove("selected");
          selectedSource.classList.add("matched");
          selectedTarget.classList.add("matched");

          selectedSource.querySelector(".card-body").innerHTML +=
            '<span class="matched-check">âœ“</span>';
          selectedTarget.querySelector(".card-body").innerHTML +=
            '<span class="matched-check">âœ“</span>';

          matchedPairs.add(sourceId);
          matchCount++;
          document.getElementById("matchCount").textContent = matchCount;

          if (matchCount === currentLesson.vocab.length) {
            setTimeout(() => {
              alert("ðŸŽ‰ Congratulations! You matched all pairs!");
            }, 300);
          }

          selectedSource = null;
          selectedTarget = null;
        } else {
          // Incorrect match
          selectedSource.classList.add("incorrect");
          selectedTarget.classList.add("incorrect");

          setTimeout(() => {
            selectedSource.classList.remove("selected", "incorrect");
            selectedTarget.classList.remove("selected", "incorrect");
            selectedSource = null;
            selectedTarget = null;
          }, 600);
        }
      }

      // Initialize game
      function initGame() {
        const sourceColumn = document.getElementById("sourceColumn");
        const targetColumn = document.getElementById("targetColumn");

        sourceColumn.innerHTML = "";
        targetColumn.innerHTML = "";

        selectedSource = null;
        selectedTarget = null;
        matchedPairs.clear();
        matchCount = 0;
        document.getElementById("matchCount").textContent = "0";
        document.getElementById("totalPairs").textContent =
          currentLesson.vocab.length;

        const shuffledTarget = shuffle(currentLesson.vocab);

        // Update word language header
        document.getElementById("wordLanguageHeader").textContent =
          languageNames[currentLanguage];

        currentLesson.vocab.forEach((pair) => {
          const wordCard = createWordCard(pair[currentLanguage], pair.id);
          sourceColumn.appendChild(wordCard);
        });

        shuffledTarget.forEach((pair) => {
          const pictureCard = createPictureCard(pair.emoji, pair.id);
          targetColumn.appendChild(pictureCard);
        });
      }

      // Load lesson
      function loadLesson(key) {
        document
          .querySelectorAll(".nav-btn")
          .forEach((b) => b.classList.remove("active"));
        event.target.classList.add("active");

        currentLesson = lessons[key];
        document.getElementById("lesson-title").textContent =
          currentLesson.title;

        initGame();
      }

      // Change language
      function changeLanguage() {
        currentLanguage = document.getElementById("languageSelect").value;
        initGame();
      }

      // Open video
      function openVideo() {
        if (currentLesson.videoID.startsWith("YOUR_")) {
          alert("Please add your YouTube video ID for this lesson!");
          return;
        }
        window.open(
          `https://www.youtube.com/watch?v=${currentLesson.videoID}`,
          "_blank",
        );
      }

      // Load initial lesson
      currentLesson = lessons.animals;
      initGame();
    </script>
  </body>
</html>
